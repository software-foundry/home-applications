# Config settings to go into the mounted airflow.cfg
#
# Please note that these values are passed through the ``tpl`` function, so are
# all subject to being rendered as go templates. If you need to include a
# literal ``{{`` in a value, it must be expressed like this:
#
#    a: '{{ "{{ not a template }}" }}'
#
# yamllint disable rule:line-length
config:
  core:
    dags_folder: '{{ include "airflow_dags" . }}'
    load_examples: 'False'   # <<<<<<<< This is ignored when used with the official Docker image, see below on how to load examples
    executor: CeleryKubernetesExecutor
    # For Airflow 1.10, backward compatibility
    colored_console_log: 'False'
    remote_logging: '{{- ternary "True" "False" .Values.elasticsearch.enabled }}'
  # Authentication backend used for the experimental API
  api:
    auth_backend: airflow.api.auth.backend.deny_all
  logging:
    remote_logging: '{{- ternary "True" "False" .Values.elasticsearch.enabled }}'
    colored_console_log: 'False'
  metrics:
    statsd_on: '{{ ternary "True" "False" .Values.statsd.enabled }}'
    statsd_port: 9125
    statsd_prefix: airflow
    statsd_host: '{{ printf "%s-statsd" .Release.Name }}'
  webserver:
    enable_proxy_fix: 'True'
    expose_config: 'True'   # <<<<<<<<<< BY DEFAULT THIS IS 'False' BUT WE CHANGE IT TO 'True' PRIOR TO INSTALLING THE CHART
webserver:
  service:
    type: LoadBalancer
flower:
  service:
    type: LoadBalancer
dags:
  gitSync:
    enabled: true
    repo: git@github.com:software-foundry/dags.git
    branch: master
    subPath: ""
    sshKeySecret: airflow-ssh-secret
    knownHosts: |
      github.com,192.30.255.113 ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAq2A7hRGmdnm9tUDbO9IDSwBK6TbQa+PXYPCPy6rbTrTtw7PHkccKrpp0yVhp5HdEIcKr6pLlVDBfOLX9QUsyCOV0wzfjIJNlGEYsdlLJizHhbn2mUjvSAHQqZETYP81eFzLQNnPHt4EVVUh7VfDESU84KezmD5QlWpXLmvU31/yMf+Se8xhHTvKSCZIFImWwoG6mbUoWf9nzpIoaSjB+weqqUUmpaaasXVal72J+UX2B+2RPW3RcT0eOzQgqlJL3RKrTJvdsjE3JEAvGq3lGHSZXy28G3skua2SmVi/w4yCE6gbODqnTWlg7+wC604ydGXA8VJiS5ap43JXiUFFAaQ==
extraSecrets:
  airflow-ssh-secret:
    data: |
      gitSshKey: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUNGd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFnRUE5QjN4YnNxT2lJYlMrSHZvQ083SUU1N2FBQWt3cE1QY29NWEgvdDBjVkl1NlIybGFXRTFnClRuWWxBS2t1TnNocU8zazhLYW93enNYT0twbWVST0dQOWwzUVhsMHJzaGUrb2ZURjlZT2RMQjRDMEtaMXVnQkdzQ05tMmMKK0xGdjJDZTEyb3RYR3V3TXZvdmxFK3hVUGQ2TENsKzNqa1NiMXdzcWhxODJwUnFXZ3FOY0xQSVpCbnJHSERsUktqQklUZgpjNTlDeDZRQTE2NG55RlNmeDB4R09QTjdMUElYSmpEdzNpcEZ3czlkYnI4WXNZSHhYUERXeHdFTkZpa2kyK1RHY0pPQzdPCnRJY0VvZ0tiekRvemRSalA2d0luemVGTUhicXpiZDM5UGRxUmY1R1ZNMjloWG00RG83cUEwQmNzajVOZnBuSXFvbWJkS2QKaFh2VkYzekM5WFllb0U4YjBQRVdrSWY1Nlhua0pDL1V1MEd0a1c3NW9QdW1rVFlycFNDWmE0RDVNLzJ0djhWVDZtcUszdgpvbGdiaDlwVzA4Ym13VHZiOFNnRnJGNkRkelpvWjZ3NTBBV2I1US9CdmN2R0dtOGJzeFJmWXNTQUdQVkR3U1RtMGJJMUlnCmIveW83aVN4UHNNTzdJcTJrYzdoMXhEOXVHYjNaTW1RYXdEM2N6UlJsQ1psbnJqOW9iZU1ia3VYTndLY3cxN0VyZ3dIZjMKUGdzUG5yM01QOTB5RHQrdXdsSXRZNXBDWHNuR0F2MEZMZzk1TmZNVGVwT1hVcUxGeVliUjh2T2t0UVJFTVZUdGtvbDVjQgpZM0dES0wydCtsVkVyOGV1amplM1lqNld0eEJrUFdWZ2V2UmtjMHNRRzZQMHNERVdQS0NiZkFJMWxWdFExd3g1L09pZUVCCjhBQUFkUUpKd28xQ1NjS05RQUFBQUhjM05vTFhKellRQUFBZ0VBOUIzeGJzcU9pSWJTK0h2b0NPN0lFNTdhQUFrd3BNUGMKb01YSC90MGNWSXU2UjJsYVdFMWdUbllsQUtrdU5zaHFPM2s4S2Fvd3pzWE9LcG1lUk9HUDlsM1FYbDByc2hlK29mVEY5WQpPZExCNEMwS1oxdWdCR3NDTm0yYytMRnYyQ2UxMm90WEd1d012b3ZsRSt4VVBkNkxDbCszamtTYjF3c3FocTgycFJxV2dxCk5jTFBJWkJuckdIRGxSS2pCSVRmYzU5Q3g2UUExNjRueUZTZngweEdPUE43TFBJWEpqRHczaXBGd3M5ZGJyOFlzWUh4WFAKRFd4d0VORmlraTIrVEdjSk9DN090SWNFb2dLYnpEb3pkUmpQNndJbnplRk1IYnF6YmQzOVBkcVJmNUdWTTI5aFhtNERvNwpxQTBCY3NqNU5mcG5JcW9tYmRLZGhYdlZGM3pDOVhZZW9FOGIwUEVXa0lmNTZYbmtKQy9VdTBHdGtXNzVvUHVta1RZcnBTCkNaYTRENU0vMnR2OFZUNm1xSzN2b2xnYmg5cFcwOGJtd1R2YjhTZ0ZyRjZEZHpab1o2dzUwQVdiNVEvQnZjdkdHbThic3gKUmZZc1NBR1BWRHdTVG0wYkkxSWdiL3lvN2lTeFBzTU83SXEya2M3aDF4RDl1R2IzWk1tUWF3RDNjelJSbENabG5yajlvYgplTWJrdVhOd0tjdzE3RXJnd0hmM1Bnc1BucjNNUDkweUR0K3V3bEl0WTVwQ1hzbkdBdjBGTGc5NU5mTVRlcE9YVXFMRnlZCmJSOHZPa3RRUkVNVlR0a29sNWNCWTNHREtMMnQrbFZFcjhldWpqZTNZajZXdHhCa1BXVmdldlJrYzBzUUc2UDBzREVXUEsKQ2JmQUkxbFZ0UTF3eDUvT2llRUI4QUFBQURBUUFCQUFBQ0FRRE0rOE82eTMzS0tLUklvUXJqVFZaV0cySmsrMUtNV0NjUQpIV1BsbjlkbEt2dGRjWnE2WVNiSVc2NlFrbjlLNHhsSkhYRW1iMUdTbjBpU1B2SkdWcjJqRzMyWGIxYjhzYkdTbjA0RzdlCkJ4cGpXbzdNNFlSSmtXMkhOSjNGdW9EM0djazdYUnZrY0dmM0xOTkwybnVXaENOdXI1Y2JjSU1Ibk1tMTFMVG5DSjl2elMKcmVWdUFxcjdkaEJjUWd6L0EyLzZ6N1dzbkF0VkVGazVmODIyOVZaV0JpWGRSTitwWXhrdkJJSVZwamlIZ1JHRUpGLy9NZwpDM2xDdGYrMlRaRG82UEExN0NBSU9RUHI0cExlZDlTenRBVUxDb0ZRQUtvQW9NQ0FOaEtxK0xpS1RUM2l0ZGttQ08wbmM3CmtzZ3ZrWkNxQWJ6T3Y5K0xBbnJoRm0yRnptNkpPU0pIWHZ4cUpGdkRsNHJzbTFUQjlQeDdKY0FOUldJa2FQVXZ3R21xN2MKOGViSXJ3TC8xQ0k5V08wNHBhZTNRQ2JGajRYYXYvTWo0SDJkNVB3aEdLNjcxWFdWbVpsVlNWSHdQQjhtTkJyTEJDSi9ROAoxeW5FamhyUkZDTWROY2FPR3VtdzV0cm9IZzdCZnQ4K3UvdGduOUVja1k5NUZOOXZTS3lNNjIwdS9DS2RoZmcyd1g5WEllCnFSTk44bW9HK1QxR1VxM1ZGYjUvM1ZSRE93VHIxVTRXeDIwTWswYnR4V2NuRGxRTWVZZlRUdGR3WDJ1bXlrbG5jaWJrWDAKNlZGVUtVNTZsT3IzblBLSWtzdmdydnV1TXBiUVNhVE5VbzEzeGJQMmxMNXpPVmZaeUhtV0o4TUxzZzVsWG9lblM5SzF0MApFbFJVSnZOcTlGRGR0Mlc2cE5xUUFBQVFBd0lDaE5RSVZXblFoWkxybm9DdTNGcUo0ejhxYmtJUjFmUmt2b2d1L3luclFECmJqY0pwaklibWxJdWI5WXZXcmNQaEVpWXc5YkNZakk5UzVrVGVzZGlCcTBPSzI5d0QrWVpHc1A1cUhacXFRZ2lqeFUzdU4KQms0M3RiQmJSNVBsdlUybmdMOG8zMDV4MVgxU3RYdUlvU1pOWUNzMklIcHJ4UDNlb3d3QndTb2VrdXFhVHR1MFV5bkQzagpnYnZiUU1IeVRFRW9ZMlJpaW8zVzZyZmphNHEvUGRrdEFhTGhGQm42bkd1cHM5a29DQi9Da1hQMGE5ZnZMV3F2amF2SkFNCnBmcW5wb2d1dmFsN0ZpTHI2OTAwd2RBc05uTlpkODZyY1plQTQ1cU82QVB0bHdXWlBleDVDcmRITmI4WnBIYjVETndNL0sKVzlOOWJxNThqVnM2VHlFb0FBQUJBUUQrbGdvOStVeUtsa0dxbWFHVzRoam55QnowNVNzMlQ0bWJZSzNwMHM3S0RDbEZqRQpHWUx3TjJQRDRSaEh1UnJUVWFTK1NxalhTdlNOdlVaTFpuWlcwZVZlSHZDdXJXbGdqY3ptSTRRekhXRkhDdUg2VWcyd01RCnJzeTdXOWE1ZkVnd01xbi9zK1N1KytKTFNDaTE0Vm5WUmV1WSs0aWZsdk9XeEw0dlllTzJZWnZqd2dVYzdOSlo0Zi84ZmYKRTJJQytDdGIzODA2WG1KUFBMajZseTFWSTA4QkdodnhrQUFrNklhSWppcUVHdmVacEZHekY5anZacGNpTk9ZcFo2ejAvSwpUTjh0cFNWV0dURzBuYkRMS05LRmtibnR1cHJtTHdER0V5Z2E1dGZ2enZvSms1MjZZV1YxK1hGNiswYlNOSzh4eWtsZlk1CkVaM29zZ2pVUHh3ajlyQUFBQkFRRDFlUVM5VnpvLzhrMitBWHFETDV1NndSOGwyR1I3OFhuZHVsclRuUnQzMWdsM1hscmoKYUJia0NnYXNkellZTjZENm1seXpBNTR1amVMVEJlaEhpdkJpdjlkOFVRRTg0V0pzMkZyWWMrdTVZVTBxeXZZN1BqQThYZQpOejhtM2tLT2d5bHBvVGVTOHNVTTE2a1p2NC94Vkk1SjBWM0xCcjUwOWRUajlGU1ZCR2hWZzQzS2c3WW1EcUFIQ1NpbWUxClpMNmFBcWFhYnY1SysrOHdhVy85ZFRUTzV0bkFoU2Qwak5KSFVHNlJOVFpVN2JSSm9Wd0s1bTRicmxGbnJKNnJPd0ZrbzIKRXlraEZMWUQzSWdRa0paQUN0cU9YK0FETGV3bDNZT2huNUE4ZEtzbEsyakZwZS9BY0tRNldWT1hObkVZUVZLbnYvNXU4aQpwelJBZzB1RFkrTWRBQUFBR21GcGNtWnNiM2RBYzI5bWRIZGhjbVZtYjNWdVpISjVMbWhyCi0tLS0tRU5EIE9QRU5TU0ggUFJJVkFURSBLRVktLS0tLQo=
